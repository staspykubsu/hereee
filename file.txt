admin.py:
@admin.register(Astronaut)
class AstronautAdmin(admin.ModelAdmin):
    list_display = ('last_name', 'first_name', 'nationality', 'birth_date', 'age_display')
    list_filter = ('nationality',)
    search_fields = ('first_name', 'last_name', 'nationality')
    
    @admin.display(description='Возраст')
    def age_display(self, obj):
        from datetime import date
        today = date.today()
        age = today.year - obj.birth_date.year - (
            (today.month, today.day) < (obj.birth_date.month, obj.birth_date.day)
        )
        return f"{age} лет"




def mission_create_view(request):
    """Создание новой миссии"""
    if request.method == 'POST':
        form = MissionForm(request.POST)
        if form.is_valid():
            mission = form.save()
            messages.success(request, 'Миссия успешно создана!')
            return redirect('home')
    else:
        form = MissionForm()
    
    context = {
        'form': form,
        'title': 'Создание новой миссии',
    }
    return render(request, 'space_app/mission_form.html', context)
